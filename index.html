<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ÿ™ŸáŸÜÿ¶ÿ© ÿ±ŸÖÿ∂ÿßŸÜ</title>
<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Lateef&display=swap" rel="stylesheet">
<style>
* { margin:0; padding:0; box-sizing:border-box; }

body {
  min-height: 100vh;
  background: #050510;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Amiri', serif;
  overflow: hidden;
  position: relative;
}

/* SKY */
.sky {
  position: fixed;
  inset: 0;
  background: radial-gradient(ellipse at 50% 0%, #1a0a3a 0%, #050510 60%);
  z-index: 0;
}

/* AURORA */
.aurora {
  position: fixed;
  top: -30%; left: -20%;
  width: 140%; height: 70%;
  background: conic-gradient(from 180deg at 50% 0%,
    transparent 30%,
    rgba(120,40,180,0.12) 45%,
    rgba(200,100,255,0.08) 55%,
    transparent 70%
  );
  animation: auroraShift 12s ease-in-out infinite alternate;
  z-index: 0;
  pointer-events: none;
  filter: blur(40px);
}
@keyframes auroraShift {
  0%   { transform: translateX(-10%) scaleY(1); opacity:0.6; }
  100% { transform: translateX(10%) scaleY(1.3); opacity:1; }
}

/* STARS */
#stars { position:fixed; inset:0; z-index:1; pointer-events:none; }
.star {
  position: absolute;
  background: #fff;
  border-radius: 50%;
  animation: twinkle var(--d) ease-in-out infinite alternate;
  animation-delay: var(--delay);
}
@keyframes twinkle {
  from { opacity:0.1; transform:scale(0.8); }
  to   { opacity:1;   transform:scale(1.5); }
}

/* SHOOTING STARS */
.shooting { position:fixed; inset:0; z-index:2; pointer-events:none; overflow:hidden; }
.shoot {
  position: absolute;
  width: 120px; height: 1.5px;
  background: linear-gradient(90deg, rgba(255,255,255,0.9), transparent);
  border-radius: 2px;
  animation: shoot var(--ds) ease-in infinite;
  animation-delay: var(--dlay);
  opacity: 0;
}
@keyframes shoot {
  0%   { transform:translateX(0) translateY(0) rotate(-35deg); opacity:1; }
  100% { transform:translateX(500px) translateY(300px) rotate(-35deg); opacity:0; }
}

/* MOON */
.moon-wrap {
  position: fixed;
  top: 28px; right: 60px;
  z-index: 3;
  animation: floatMoon 7s ease-in-out infinite;
}
@keyframes floatMoon {
  0%,100% { transform:translateY(0) rotate(-2deg); }
  50%      { transform:translateY(-14px) rotate(2deg); }
}
.moon {
  width:100px; height:100px;
  border-radius:50%;
  background: radial-gradient(circle at 38% 38%, #fff9c4, #f5c842 50%, #c8860a);
  box-shadow:
    0 0 30px 8px rgba(245,200,66,0.55),
    0 0 80px 20px rgba(245,200,66,0.25),
    0 0 160px 40px rgba(245,160,0,0.1);
  position: relative;
}
.moon::after {
  content:'';
  position:absolute;
  top:10px; left:22px;
  width:86px; height:86px;
  border-radius:50%;
  background:#080818;
}
.moon-glow {
  position:absolute; inset:-20px;
  border-radius:50%;
  background: radial-gradient(circle, rgba(245,200,66,0.15) 0%, transparent 70%);
  animation: moonGlow 3s ease-in-out infinite alternate;
}
@keyframes moonGlow {
  from { transform:scale(1); opacity:0.7; }
  to   { transform:scale(1.15); opacity:1; }
}
.moon-stars span {
  position:absolute; color:#f5c842;
  font-size:1rem;
  animation: sparkMoon 2s ease-in-out infinite alternate;
}
.moon-stars span:nth-child(1) { top:-20px; left:30px; animation-delay:0s; }
.moon-stars span:nth-child(2) { top:10px; left:-25px; animation-delay:.5s; font-size:.7rem; }
.moon-stars span:nth-child(3) { top:-10px; right:-20px; animation-delay:1s; font-size:.8rem; }
@keyframes sparkMoon {
  from { opacity:.3; transform:scale(.8); }
  to   { opacity:1;  transform:scale(1.3); }
}

/* LANTERNS */
.lanterns { position:fixed; top:0; left:0; width:100%; z-index:3; pointer-events:none; }
.lw { position:absolute; top:0; display:flex; flex-direction:column; align-items:center; }
.lw:nth-child(1) { left:7%; }
.lw:nth-child(2) { left:20%; }
.lw:nth-child(3) { right:7%; }
.lw:nth-child(4) { right:20%; }
.lw:nth-child(5) { left:48%; }

.ls  { width:1px; background:linear-gradient(to bottom,rgba(255,220,100,.6),rgba(255,220,100,.1)); }
.lw:nth-child(1) .ls { height:28px; }
.lw:nth-child(2) .ls { height:55px; }
.lw:nth-child(3) .ls { height:38px; }
.lw:nth-child(4) .ls { height:65px; }
.lw:nth-child(5) .ls { height:18px; }

.lb {
  width:34px; height:50px;
  border-radius:6px 6px 10px 10px;
  position:relative;
  display:flex; align-items:center; justify-content:center;
  animation:swingL var(--sw) ease-in-out infinite;
  transform-origin:top center;
  box-shadow:0 0 20px 6px var(--glow);
}
.lb::before { content:''; position:absolute; inset:0; border-radius:inherit; background:var(--col); opacity:.9; }
.lb::after  { content:''; position:absolute; inset:4px; border-radius:4px 4px 8px 8px; background:rgba(255,255,255,.1); }
.li { position:relative; z-index:1; font-size:1rem; }
.lc { width:42px; height:7px; background:linear-gradient(90deg,#8b6914,#f5c842,#8b6914); border-radius:3px; margin:-2px auto 0; }
.lct { width:28px; height:6px; background:linear-gradient(90deg,#8b6914,#f5c842,#8b6914); border-radius:3px 3px 0 0; margin:0 auto -2px; }
.lgr { position:absolute; inset:-8px; border-radius:50%; background:radial-gradient(circle,var(--glow) 0%,transparent 70%); animation:lPulse var(--sw) ease-in-out infinite alternate; }
@keyframes lPulse { from{opacity:.5;transform:scale(.9);} to{opacity:1;transform:scale(1.2);} }
@keyframes swingL {
  0%   { transform:rotate(calc(var(--ang)*-1)); }
  50%  { transform:rotate(var(--ang)); }
  100% { transform:rotate(calc(var(--ang)*-1)); }
}
.lw:nth-child(1) .lb { --sw:3.2s;--ang:10deg;--col:linear-gradient(160deg,#cc2200,#ff4422);--glow:rgba(255,80,30,.5); }
.lw:nth-child(2) .lb { --sw:4.1s;--ang:8deg;--col:linear-gradient(160deg,#007733,#00bb55);--glow:rgba(0,180,70,.4);animation-delay:.5s; }
.lw:nth-child(3) .lb { --sw:3.7s;--ang:12deg;--col:linear-gradient(160deg,#7700bb,#aa33ff);--glow:rgba(160,50,255,.5);animation-delay:.9s; }
.lw:nth-child(4) .lb { --sw:4.5s;--ang:9deg;--col:linear-gradient(160deg,#bb7700,#ffbb00);--glow:rgba(255,185,0,.5);animation-delay:.3s; }
.lw:nth-child(5) .lb { --sw:2.9s;--ang:7deg;--col:linear-gradient(160deg,#cc1155,#ff3388);--glow:rgba(255,50,140,.5);animation-delay:1.1s; }

/* PARTICLES */
.particles { position:fixed; inset:0; z-index:2; pointer-events:none; overflow:hidden; }
.particle {
  position:absolute; bottom:-20px; border-radius:50%;
  animation:riseP var(--pr) ease-in infinite;
  animation-delay:var(--pd);
  opacity:0;
}
@keyframes riseP {
  0%   { transform:translateY(0) translateX(0) scale(.5); opacity:.6; }
  50%  { transform:translateY(-40vh) translateX(var(--px)) scale(1); opacity:.3; }
  100% { transform:translateY(-90vh) translateX(calc(var(--px)*2)) scale(.3); opacity:0; }
}

/* MOSAIC BANDS */
.mosaic-top,.mosaic-bottom {
  position:fixed; left:0; right:0; height:70px; z-index:2; pointer-events:none; opacity:.14;
}
.mosaic-top    { top:0; }
.mosaic-bottom { bottom:0; }
.mosaic-top, .mosaic-bottom {
  background:
    repeating-linear-gradient(90deg,#f5c842 0,#f5c842 2px,transparent 2px,transparent 18px),
    repeating-linear-gradient(0deg,#f5c842 0,#f5c842 2px,transparent 2px,transparent 18px);
}

/* FIREWORKS */
.fireworks { position:fixed; inset:0; z-index:50; pointer-events:none; overflow:hidden; }
.firework {
  position:absolute; width:6px; height:6px; border-radius:50%;
  animation:fwBurst .9s ease-out forwards; opacity:0;
}
@keyframes fwBurst {
  0%   { transform:translate(0,0) scale(.2); opacity:1; }
  80%  { opacity:.8; }
  100% { transform:translate(var(--fx),var(--fy)) scale(0); opacity:0; }
}

/* CONFETTI */
.confetti-wrap { position:fixed; inset:0; z-index:49; pointer-events:none; overflow:hidden; }
.conf {
  position:absolute; top:-20px; font-size:var(--fs);
  animation:confFall var(--cf) ease-in forwards;
  animation-delay:var(--cd); opacity:0;
}
@keyframes confFall {
  0%   { transform:translateY(-20px) translateX(0) rotate(0); opacity:1; }
  100% { transform:translateY(110vh) translateX(var(--cx)) rotate(720deg); opacity:0; }
}

/* CARD */
.card {
  position:relative; z-index:10;
  background:linear-gradient(145deg,rgba(255,255,255,.07),rgba(255,255,255,.02));
  border:1px solid rgba(245,200,66,.28);
  border-radius:28px;
  padding:48px 40px 40px;
  width:min(480px,92vw);
  text-align:center;
  backdrop-filter:blur(18px);
  box-shadow:0 8px 60px rgba(0,0,0,.7),inset 0 1px 0 rgba(255,255,255,.1);
  animation:cardIn 1s cubic-bezier(.22,1,.36,1) both;
}
@keyframes cardIn {
  from { opacity:0; transform:translateY(40px) scale(.95); }
  to   { opacity:1; transform:translateY(0) scale(1); }
}

.ornament {
  color:#f5c842; font-size:1.3rem; letter-spacing:8px;
  margin-bottom:12px; opacity:.6;
  animation:ornGlow 3s ease-in-out infinite alternate;
}
@keyframes ornGlow {
  from { opacity:.4; text-shadow:none; }
  to   { opacity:.9; text-shadow:0 0 12px rgba(245,200,66,.7); }
}
.title {
  font-family:'Lateef',serif; font-size:3rem;
  color:#f5c842; line-height:1.1; margin-bottom:4px;
  animation:titleShimmer 4s ease-in-out infinite alternate;
}
@keyframes titleShimmer {
  from { text-shadow:0 0 20px rgba(245,200,66,.4); }
  to   { text-shadow:0 0 40px rgba(245,200,66,.9),0 0 80px rgba(245,160,0,.3); }
}
.subtitle { color:rgba(255,255,255,.36); font-size:.93rem; margin-bottom:28px; letter-spacing:.07em; }

/* INPUT */
.ig { position:relative; margin-bottom:18px; }
.ig input {
  width:100%; padding:14px 20px;
  background:rgba(255,255,255,.06);
  border:1px solid rgba(245,200,66,.28);
  border-radius:14px; color:#fff;
  font-family:'Amiri',serif; font-size:1.18rem;
  text-align:center; outline:none;
  transition:border-color .3s,box-shadow .3s,background .3s;
}
.ig input::placeholder { color:rgba(255,255,255,.28); }
.ig input:focus {
  border-color:#f5c842;
  box-shadow:0 0 0 3px rgba(245,200,66,.15),0 0 20px rgba(245,200,66,.1);
  background:rgba(255,255,255,.09);
}

/* BUTTON */
.btn {
  width:100%; padding:15px 24px;
  background:linear-gradient(135deg,#f5c842,#e8980a);
  border:none; border-radius:14px;
  color:#0a0a1a;
  font-family:'Amiri',serif; font-size:1.2rem; font-weight:700;
  cursor:pointer;
  transition:transform .2s,box-shadow .2s;
  box-shadow:0 4px 24px rgba(245,200,66,.4),inset 0 2px 0 rgba(255,255,255,.1);
  display:flex; align-items:center; justify-content:center; gap:10px;
  position:relative; overflow:hidden;
}
.btn::before {
  content:''; position:absolute;
  top:-50%; left:-60%; width:60%; height:200%;
  background:rgba(255,255,255,.15); transform:skewX(-20deg);
  animation:btnShine 3s ease-in-out infinite;
}
@keyframes btnShine {
  0%   { left:-60%; opacity:0; }
  20%  { opacity:1; }
  40%  { left:120%; opacity:0; }
  100% { left:120%; opacity:0; }
}
.btn:hover { transform:translateY(-3px); box-shadow:0 8px 32px rgba(245,200,66,.55); }
.btn:active { transform:translateY(-1px); }

/* GREETING */
.greeting-box {
  margin-top:22px; padding:22px 20px;
  background:rgba(245,200,66,.05);
  border:1px solid rgba(245,200,66,.18);
  border-radius:16px; color:#f5e9b8;
  font-size:1.2rem; line-height:1.9;
  display:none;
  animation:fadeUp .7s cubic-bezier(.22,1,.36,1);
  position:relative;
}
.greeting-box::before {
  content:'‚ùù'; position:absolute; top:8px; right:14px;
  font-size:2rem; color:rgba(245,200,66,.2); font-family:serif;
}
@keyframes fadeUp {
  from { opacity:0; transform:translateY(16px); }
  to   { opacity:1; transform:translateY(0); }
}

/* AUDIO */
.audio-controls { margin-top:14px; display:none; flex-direction:column; gap:10px; animation:fadeUp .7s ease; }
.audio-btn {
  padding:12px; border-radius:12px;
  border:1px solid rgba(245,200,66,.3);
  background:rgba(255,255,255,.04); color:#f5c842;
  font-family:'Amiri',serif; font-size:1.05rem;
  cursor:pointer;
  transition:background .2s,border-color .2s,transform .15s;
}
.audio-btn:hover { background:rgba(245,200,66,.1); border-color:#f5c842; transform:translateY(-1px); }
.audio-btn.playing { background:rgba(245,200,66,.16); }
.status { margin-top:10px; font-size:.88rem; color:rgba(255,255,255,.32); min-height:18px; transition:color .3s; }
</style>
</head>
<body>

<div class="sky"></div>
<div class="aurora"></div>
<div id="stars"></div>
<div class="shooting" id="shooting"></div>

<!-- Moon -->
<div class="moon-wrap">
  <div class="moon-stars"><span>‚ú¶</span><span>‚úß</span><span>‚ú¶</span></div>
  <div class="moon"><div class="moon-glow"></div></div>
</div>

<!-- Lanterns -->
<div class="lanterns">
  <div class="lw"><div class="lct"></div><div class="ls"></div><div class="lc"></div><div class="lb"><div class="lgr"></div><div class="li">üïå</div></div><div class="lc"></div></div>
  <div class="lw"><div class="lct"></div><div class="ls"></div><div class="lc"></div><div class="lb"><div class="lgr"></div><div class="li">üåô</div></div><div class="lc"></div></div>
  <div class="lw"><div class="lct"></div><div class="ls"></div><div class="lc"></div><div class="lb"><div class="lgr"></div><div class="li">‚≠ê</div></div><div class="lc"></div></div>
  <div class="lw"><div class="lct"></div><div class="ls"></div><div class="lc"></div><div class="lb"><div class="lgr"></div><div class="li">üïå</div></div><div class="lc"></div></div>
  <div class="lw"><div class="lct"></div><div class="ls"></div><div class="lc"></div><div class="lb"><div class="lgr"></div><div class="li">‚ú®</div></div><div class="lc"></div></div>
</div>

<div class="mosaic-top"></div>
<div class="mosaic-bottom"></div>
<div class="particles" id="particles"></div>
<div class="fireworks" id="fireworks"></div>
<div class="confetti-wrap" id="confetti"></div>

<!-- CARD -->
<div class="card">
  <div class="ornament">‚ú¶ ‚ú¶ ‚ú¶</div>
  <div class="title">ÿ±ŸÖÿ∂ÿßŸÜ ŸÖÿ®ÿßÿ±ŸÉ üåô</div>
  <div class="subtitle">Ramadan Greeting ¬∑ ÿ®ÿßŸÑÿØÿßÿ±ÿ¨ÿ© ÿßŸÑŸÖÿ∫ÿ±ÿ®Ÿäÿ©</div>

  <div class="ig">
    <input type="text" id="nameInput" placeholder="ÿØÿÆŸÑ ÿßÿ≥ŸÖŸÉ ŸáŸÜÿß..." maxlength="30" />
  </div>

  <button class="btn" onclick="generateGreeting()">
    <span>üéôÔ∏è</span><span>ŸàŸÑŸëÿØ ÿßŸÑÿ™ŸáŸÜÿ¶ÿ©</span>
  </button>

  <div class="greeting-box" id="greetingBox"></div>

  <div class="audio-controls" id="audioControls">
    <button class="audio-btn" id="playBtn" onclick="speakGreeting()">‚ñ∂Ô∏è ÿ≥ŸÖÿπ ÿßŸÑÿ™ŸáŸÜÿ¶ÿ© ÿ®ÿßŸÑÿµŸàÿ™</button>
  </div>

  <div class="status" id="status"></div>
</div>

<script>
// Stars
const starsEl = document.getElementById('stars');
for (let i=0;i<160;i++){
  const s=document.createElement('div'); s.className='star';
  const sz=(Math.random()*2.2+0.4).toFixed(1);
  s.style.cssText=`width:${sz}px;height:${sz}px;top:${Math.random()*100}%;left:${Math.random()*100}%;--d:${(Math.random()*3+1.5).toFixed(1)}s;--delay:${(Math.random()*5).toFixed(1)}s;`;
  starsEl.appendChild(s);
}

// Shooting stars
const shootEl = document.getElementById('shooting');
for (let i=0;i<6;i++){
  const sh=document.createElement('div'); sh.className='shoot';
  sh.style.cssText=`top:${Math.random()*40}%;left:${Math.random()*60}%;--ds:${(Math.random()*4+5).toFixed(1)}s;--dlay:${(Math.random()*14).toFixed(1)}s;`;
  shootEl.appendChild(sh);
}

// Particles
const partEl=document.getElementById('particles');
const pColors=['rgba(245,200,66,.7)','rgba(255,120,60,.6)','rgba(180,80,255,.6)','rgba(80,200,255,.5)','rgba(255,255,255,.4)'];
for(let i=0;i<25;i++){
  const p=document.createElement('div'); p.className='particle';
  const sz=Math.random()*5+2;
  p.style.cssText=`width:${sz}px;height:${sz}px;left:${Math.random()*100}%;background:${pColors[~~(Math.random()*pColors.length)]};--pr:${(Math.random()*12+10).toFixed(1)}s;--pd:${(Math.random()*10).toFixed(1)}s;--px:${(Math.random()*80-40).toFixed(0)}px;border-radius:50%;filter:blur(1px);`;
  partEl.appendChild(p);
}

// Fireworks
function launchFirework(x,y){
  const fw=document.getElementById('fireworks');
  const cols=['#f5c842','#ff4444','#44ff88','#bb44ff','#44bbff','#ff88aa','#ffaa44'];
  for(let i=0;i<22;i++){
    const el=document.createElement('div'); el.className='firework';
    const angle=(i/22)*360, dist=Math.random()*80+40, rad=angle*Math.PI/180;
    el.style.cssText=`left:${x}px;top:${y}px;background:${cols[~~(Math.random()*cols.length)]};--fx:${(Math.cos(rad)*dist).toFixed(0)}px;--fy:${(Math.sin(rad)*dist).toFixed(0)}px;animation-delay:${(Math.random()*.2).toFixed(2)}s;box-shadow:0 0 6px 2px currentColor;`;
    fw.appendChild(el);
    setTimeout(()=>el.remove(),1300);
  }
}

function celebrate(){
  [[25,20],[70,25],[15,45],[80,35],[50,30],[60,55],[35,60]].forEach(([xp,yp],i)=>{
    setTimeout(()=>launchFirework(window.innerWidth*xp/100,window.innerHeight*yp/100),i*180);
  });
  const cf=document.getElementById('confetti');
  const items=['‚≠ê','üåô','‚ú®','üåü','üí´','üïå','‚ù§Ô∏è','üéä'];
  for(let i=0;i<32;i++){
    const el=document.createElement('div'); el.className='conf';
    el.textContent=items[~~(Math.random()*items.length)];
    el.style.cssText=`left:${Math.random()*100}%;--fs:${(Math.random()*1+.8).toFixed(1)}rem;--cf:${(Math.random()*3+3).toFixed(1)}s;--cd:${(Math.random()*2).toFixed(1)}s;--cx:${(Math.random()*200-100).toFixed(0)}px;`;
    cf.appendChild(el);
    setTimeout(()=>el.remove(),6500);
  }
}

const templates=[
  n=>`ÿ≥ŸÑÿßŸÖ ${n}! ÿ±ŸÖÿ∂ÿßŸÜ ŸÖÿ®ÿßÿ±ŸÉ ÿ≥ÿπŸäÿØ ÿπŸÑŸäŸÉ. ÿßŸÑŸÑŸá ŸäÿØÿÆŸÑŸá ÿπŸÑŸäŸÉ ÿ®ÿßŸÑÿµÿ≠ÿ© ŸàÿßŸÑÿ±ÿßÿ≠ÿ©ÿå ŸàŸäÿ¨ÿπŸÑ Ÿáÿ∞ÿß ÿßŸÑÿ¥Ÿáÿ± ÿÆŸäÿ± Ÿàÿ®ÿ±ŸÉÿ© ÿπŸÑŸäŸÉ ŸàÿπŸÑŸâ ÿπŸäŸÑÿ™ŸÉ. ÿ±ŸÖÿ∂ÿßŸÜ ŸÉÿ±ŸäŸÖ!`,
  n=>`${n}ÿå ŸÖÿ®ÿ±ŸàŸÉ ÿπŸÑŸäŸÉ ÿ¥Ÿáÿ± ÿ±ŸÖÿ∂ÿßŸÜ ÿßŸÑŸÖÿ®ÿßÿ±ŸÉ! ÿßŸÑŸÑŸá Ÿäÿπÿ∑ŸäŸÉ ÿßŸÑÿµÿ≠ÿ© ŸàÿßŸÑÿ≥ÿπÿßÿØÿ©ÿå ŸàŸäŸÇÿ®ŸÑ ÿµŸäÿßŸÖŸÉ ŸàŸÇŸäÿßŸÖŸÉ. ÿ¥Ÿáÿ± ŸÖÿ®ÿßÿ±ŸÉ ÿπŸÑŸäŸÉ ŸàÿπŸÑŸâ ŸÖŸÜ ÿ™ÿ≠ÿ®!`,
  n=>`Ÿäÿß ${n}ÿå ÿ±ŸÖÿ∂ÿßŸÜ ŸàÿµŸÑ! ÿßŸÑŸÑŸá Ÿäÿ®ÿßÿ±ŸÉ ŸÅŸäŸÉ ŸàŸÅŸä ÿπŸäŸÑÿ™ŸÉÿå ŸàŸäÿ¨ÿπŸÑ Ÿáÿ∞ÿß ÿßŸÑÿ¥Ÿáÿ± ÿßŸÑŸÉÿ±ŸäŸÖ ŸÅÿ±ÿ≠ÿ© ŸàÿÆŸäÿ± ŸÑŸäŸÉ. ÿ±ŸÖÿ∂ÿßŸÜ ŸÖÿ®ÿßÿ±ŸÉ ÿµÿßÿ≠ÿ®Ÿä!`,
  n=>`ŸÖÿ®ÿ±ŸàŸÉ ÿπŸÑŸäŸÉ ÿ±ŸÖÿ∂ÿßŸÜ Ÿäÿß ${n}! ÿßŸÑŸÑŸá Ÿäÿ¨ÿπŸÑŸá ÿ¥Ÿáÿ± ÿµÿ≠ÿ© Ÿàÿ≥ÿπÿßÿØÿ©ÿå ŸàŸäŸÇÿ®ŸÑ ŸÖŸÜŸÉ ÿßŸÑÿµŸäÿßŸÖ ŸàÿßŸÑŸÇŸäÿßŸÖ. ŸÉŸÑ ÿπÿßŸÖ Ÿàÿ£ŸÜÿ™ ÿ®ÿÆŸäÿ±!`,
];

let currentText='';

function generateGreeting(){
  const name=document.getElementById('nameInput').value.trim();
  if(!name){
    const s=document.getElementById('status');
    s.style.color='#ff8866'; s.textContent='‚ö†Ô∏è ÿπŸÅÿßŸÉ ÿØÿÆŸÑ ÿßÿ≥ŸÖŸÉ ÿ£ŸàŸÑÿßŸã';
    setTimeout(()=>{s.style.color='';s.textContent='';},3000);
    return;
  }
  currentText=templates[~~(Math.random()*templates.length)](name);
  const box=document.getElementById('greetingBox');
  box.style.display='block'; box.textContent='';
  let idx=0;
  const t=setInterval(()=>{ box.textContent+=currentText[idx++]; if(idx>=currentText.length) clearInterval(t); },28);
  document.getElementById('audioControls').style.display='flex';
  document.getElementById('status').style.color='rgba(255,255,255,.32)';
  document.getElementById('status').textContent='üéâ ÿßÿ∂ÿ∫ÿ∑ ÿπŸÑŸâ ÿßŸÑÿ≤ÿ± ÿ®ÿßÿ¥ ÿ™ÿ≥ŸÖÿπ ÿßŸÑÿ™ŸáŸÜÿ¶ÿ©';
  celebrate();
}

function speakGreeting(){
  if(!currentText||!window.speechSynthesis) return;
  window.speechSynthesis.cancel();
  const u=new SpeechSynthesisUtterance(currentText);
  const ar=window.speechSynthesis.getVoices().find(v=>v.lang.startsWith('ar'));
  if(ar) u.voice=ar;
  u.lang='ar-MA'; u.rate=.88; u.pitch=1.05;
  const btn=document.getElementById('playBtn');
  btn.textContent='‚èπÔ∏è ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ...'; btn.classList.add('playing');
  document.getElementById('status').textContent='üîä ŸÉŸäŸÇÿ±ÿß ÿßŸÑÿ™ŸáŸÜÿ¶ÿ©...';
  u.onend=()=>{ btn.textContent='‚ñ∂Ô∏è ÿ≥ŸÖÿπ ÿßŸÑÿ™ŸáŸÜÿ¶ÿ© ÿ®ÿßŸÑÿµŸàÿ™'; btn.classList.remove('playing'); document.getElementById('status').textContent='‚úÖ ÿ≥ÿßŸÑŸä ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ'; };
  u.onerror=()=>{ btn.textContent='‚ñ∂Ô∏è ÿ≥ŸÖÿπ ÿßŸÑÿ™ŸáŸÜÿ¶ÿ© ÿ®ÿßŸÑÿµŸàÿ™'; btn.classList.remove('playing'); };
  window.speechSynthesis.speak(u);
}

window.speechSynthesis.onvoiceschanged=()=>window.speechSynthesis.getVoices();
document.getElementById('nameInput').addEventListener('keydown',e=>{ if(e.key==='Enter') generateGreeting(); });
</script>
</body>
</html>
